import lyricsgenius as lg # https://github.com/johnwmillr/LyricsGenius
from google.cloud import translate_v2 as translate
#export GOOGLE_APPLICATION_CREDENTIALS="/mnt/f/lyrics_collection/lyrics-collection-key.json"


file = open("artists_genius_a.txt", "a")  # File to write lyrics to
genius = lg.Genius('aTh-Dc2WaOTlLdHP5p7xV_YpLke-MQvY9Ux_nfg68IcGikRld8yJZfIwSv6794L1',  # Client access token from Genius Client API page
                             skip_non_songs=True, excluded_terms=["(Remix)", "(Live)"],
                             remove_section_headers=True, timeout=30)



artists3 = ["скриптонит & райда (skriptonite & raida)","嵐 (arashi)","alex (칸첸알렉스) (kor)","​​alt-j","amy winehouse","andrew lloyd webber","atl","ayesha erotica","a1 x j1","a2h","a2m","a36","a4 (rus)","a92","ağaçkakan","aarne & lil krystalll","aaron cole","aaron keyes","aaron lewis","aaron may","aaron smith","aaron sorkin","aaron west & the roaring twenties","aaryan shah","ab6ix (에이비식스)","abbas bağırov","abbey glover","abby cates","abdullah siddiqui & talha anjum","abe parker","abhir hathi","abhi the nomad","abigail barlow","abo el anwar","aborted","above & beyond","aboveground germany","above the hood (grc)","above the law","abra","abra & boys noize","abra cadabra","abraham lincoln","abreu","abs-cbn music all-star","​absent","absofacto","żabson","ab-soul","abstract","abyusif","the acacia strain","the academic","aca lukas","acappella","accept","a.c.e","ace hood","ace of base","a.chal","achille lauro","achtabahn & kayef","achtvier","acid bath","acid ghost","acru","action bronson","action bronson & the alchemist","active gxng","adaam","adaam & vc barre","adam calhoun","adam jensen","adam lambert","adamlar","adam levine","adam mansbach","adam melchor","adam mickiewicz","adam sandler","adawa & shayiting el","addison rae","adekunle gold","adekunle gold & davido","adel","adel tawil","ademo","aden x asme","adf samski","adia victoria","adie (ph)","adi nowak","adin ross, kill jasper & tory lanez","aditi paul","адлин (adlin)","ados","adrian","adrianne lenker","adrianne lenker & buck meek","adriano celentano","adrienne rich","adult mom","adventure time","aesop rock","​aespa (에스파)","aew","af1","аффинаж (affinage band)","afi","aflacko","aflapoid","afn peso","afourteen","a-f-r-o","afroman","afroto","aftertheparty","aga b","​again&again","against me!","against the current","agalloch","agar agar","агата кристи (agata christie)","ag club","a. g. cook","agnes","agnes obel","agnetha fältskog","agnostic front","agust d","​a-ha","aha gazelle","ahiyan","ahmed santa","ahmet kaya","aidan martin","аигел (aigel)","⁣aikko","​aikko, inspace & katanacss","aileen quinn","aiman jr","aimee mann","aimer","air","the airborne toxic event","airon","air supply","air traffic controller","aitana","aitch","aitch & aj tracey","aiza seguerra","ajda pekkan","ajj","aj mitchell","aj tracey","ak","ak4:20","aka","akala","ak ausserkontrolle","akb48","akc kretta","akc misi","akhenaton","aki","akintoye","akinyele","akira the don","山岡晃 (akira yamaoka)","akmu (악뮤)","akua naru","a.l.a علاء","alabama","alabama 3","alabama shakes","alaina castillo","alan","alanis morissette","alan menken","alannah myles","the alan parsons project","alan walker","alan walker, k-391 & boy in space","alan walker, sabrina carpenter & farruko","alan watts","alaska thunderfuck","albert camus","albert hammond jr.","albertnbn","alberto grasu","alberto (pl)","альбина сексова (albina sexova)","albin lee meldau","alborosie","al bowlly","alces machlis","alcest","the alchemist","alcolirykoz","alcool club","​aldn","aldous harding","alejandro fernández","alejandro sanz","aleksandra prijović & lexington","aleksa safiya","alekseev","aleks syntek","あれくん (alekun)","alemán","алёна швец. (alena shvets.)","alesana","alesso","alesso & marshmello","alestorm","alexa demie","alexander 23","alexander o'neal","александр пистолетов (alexander pistoletov)","alexander rybak","alexandra savior","alex & sierra","alex cameron","alex ceesay","alex galagurskiy","alex gárgolas, mora & luar la l","alex isley","alexisonfire","alexis y fido","alex rose","alex rose & cnco","alex rose, rauw alejandro, lenny tavárez, cazzu & lyanno","alex turner","alex warren","alfaaz","alfa (ita)","alfie templeman","alf prøysen","alfred lord tennyson","algernon cadwallader","ali471","ali as","ali b","aliceband","alice cooper","alice longyu gao","alice merton","alice phoebe lou","alice walker","alicia awa","alicks","alien ant farm","alien weaponry","ali gatie","alireza jj","alisha chinai","alisha (rus)","alison krauss & union station","alison wonderland","alison yap","ali sorena","alizade","ali zafar","alizée","al jolson","alkaline","alkaline trio","alka yagnik","alkpote","all-4-one","allame","allan rayman","алла пугачёва (alla pugacheva)","allday","allen stone","alley gang","all good things","альянс (alliance) (rus)","allie x","alligatoah","alli neumann","allison russell","the allman brothers band","all nations music","all sons & daughters","all that remains","all them witches","almighty","aloe blacc","alonzo","alpha blondy","alphaville","alphavite","alpha wann","alpha wolf","al safir","al stewart","alz x 38","alt bloom","the altogether","żaluzja","alvaro soler","alvin & the chipmunks","alvin slaughter","alvintoday","alvvays","aly & aj","am","amaarae","amaarae & moliy","amalee","amanda fagan","amanda palmer","amanda seyfried","amandla stenberg","amaranthe","amarion","[amatory]","the amazing devil","the amazing world of gumball","ambar lucid","amber mark","amber run","ambré","ame bibabi","amee","ameer vann","amel bent","'amelie' original london cast","amel larrieux","amenra (cor)","america","american authors","american dad","american football","american murder song","american pleasure club","amerie","amici miei","amigo the devil","aminé","amirchik","amiri baraka","amir obè","amir tataloo","amit trivedi","the amity affliction","amo988","amon amarth","amorphis","amos lee","amp (any means possible)","amr diab","amrinder gill","şam (tr)","amuly","amy grant","amyl and the sniffers","amy macdonald","amy shark","anaal nathrakh","anacondaz","ana diaz","ana gabriel","anamanaguchi","anand raj anand","ana nikolić","anarbor","anaïs mitchell","anastacia","anastasia y.","anastasija","anathema","a. nayaka","anazed","anberlin","кисло-сладкий & bonah","​anders","anders matthesen","anderson .paak","хаски & масло черного тмина (husky & maslo chyornogo tmina)","andi","скриптонит & niman (scriptonite & niman)","and one","andré 3000","andréa burns","andraé crouch","andra day","andré de shields & hadestown original broadway company","andré de shields, reeve carney, jewelle blackman, yvette gonzalez-nacer, kay trinidad, timothy hughes, malcolm armwood, jessie shelton, kimberly marable, khaila wilcoxon, ahmad simmons, afra hines, t. oliver reid & john krause","andrea bocelli","andrea gibson","​​andreas odbjerg","андрей губин (andrei gubin)","​andrei, oscar, călinacho & amuly","andre nickatina","andrew belle","andrew bird","andrew e.","andrew gold","andrew lippa","andrew lloyd webber & carrie hope fletcher","andrew peterson","the andrews sisters","andrew stein","andrew w.k.","andré hazes","andro & andy panda","andro (ukr)","andrés (aparicio)","andy black","andy grammer","andy milonakis","andy mineo","andy mineo & wordsplayed","andy panda","andy shauf","andy williams","ane brun","anees","şanışer","anette olzon","angela carter","angela lansbury","angel du$t","angel haze","angelmaker","angelo de augustine","angel olsen","angels & airwaves","angels of light","angie stone","angèle","angus & julia stone","ani difranco","anikv","the animals","animal джаz","animaniacs","animus","anirudh ravichander","anita baker","anitta","ankhal","anıl piyancı","anna","anna akana","anna book","anna kendrick","anna nalick","anna puu","anne-marie","anne-marie & little mix","anne-marie & niall horan","anne-marie, ksi & digital farm animals","anne murray","annenmaykantereit","anne wilson","annie","annie dirusso","annie lennox","annie murphy","annihilator","ann marie","anonymous","anonymuz","盧瀚霆 (anson lo)","anson seabra","ansu","ant clemons","anth","anthem lights","anthony green","anthony hamilton","anthony ramos","anthony ramos, ariana debose, sasha hutchings, ephraim sykes, lin-manuel miranda & original broadway cast of \"hamilton\"","anthony ramos, corey hawkins, gregory diaz iv, noah catala, daphne rubin-vega, stephanie beatriz, dascha polanco & melissa barrera","anthony ramos, corey hawkins, melissa barrera, leslie grace, olga merediz, gregory diaz iv, noah catala, daphne rubin-vega, stephanie beatriz & dascha polanco","anthony ramos, lin-manuel miranda, jon rua, leslie odom, jr. & original broadway cast of \"hamilton\"","anthony ramos, okieriete onaodowan, daveed diggs, lin-manuel miranda & leslie odom jr.","anthrax","anti-flag","antilopen gang","antimatter","the antlers","antônio carlos jobim","антоха мс (antoha mc)","anton chekhov","antonello venditti","antonio aguilar","antony and the johnsons","antoon","antoon & big2","antti tuisku","ant wan","anuel aa & bad bunny","anuel aa & ozuna","anuel aa, ñengo flow, farruko, bad bunny, darell & casper mágico","anuv jain","the anxiety","apache 207","apashe","apashe & lubalin","apathy","ap dhillon","aphex twin","apocalipsa - אפוקליפסה","apocalyptica","apo hiking society","apparat","șapte","apulanta","aqtaii","aqua","the aquabats!","аквариум (aquarium)","aquilo","arab strap","arash","嵐 (arashi) & r3hab","arca","arca & sia","arch enemy","architects","archive","archspire","arcángel","arcángel & bad bunny","ard adz","ardhito pramono","ardn","area21","a-reece","a-reece & jay jody and blue tape","ares","ariana grande & doja cat","ariana grande & justin bieber","ariana grande & nathan sykes","ariana grande & social house","ariana grande & the weeknd","ariana grande & victoria monét","arianne schreiber","ariel camacho y los plebes del rancho","ariel pink","ariel pink's haunted graffiti","ariel rivera","ariel winter","aries","ariete","arijit singh","arijit singh & mithoon","arik ancelin","ari lennox","ari lennox & j. cole","ария (ariya)","arizona zervas","arkells","ark patrol","arlo guthrie","arlo parks","armaan malik","armand hammer","armand hammer & the alchemist","the armed","armin van buuren","armin van buuren & davina michelle","ar'mon & trey","army of lovers","army of the pharaohs","aronchupa","a.r. rahman","arrdee","arrested development","arrested youth","arrogant worms","arsenal fc","arsenik","çağrı sinci","arz (uk)","art","артур эскейп (arthur escape)","arthur miller","arthur nery","arthur russell","articolo 31","artigeardit","artik & asti",
"art school girlfriend","arttu wiskari","arya lee","asaad (saudi money)","asaf avidan - אסף אבידן","asal kolaar x ofro","asammuell","asan","asanrap","a$ap ant","a$ap mob","asap science","a$ap twelvyy","asche","asche & kollegah","asha bhosle","ashafar","ashanti","ash b","ashcoolbro","ashe","ashe 22","ashe & finneas","asher roth","asheru","ash island","ashkidd","ashland craft","ashley cooke","ashton irwin","asia","asiah","asian doll","as i lay dying","asil slang","asin","as it is","асия (asiya)","asking alexandria","asme","aspova","assassin's creed sea shanties","astrid s","astro","astrud gilberto","the ataris","ateez","ateyaba","тяжёлая атлетика (athletic music)","ati242","atif aslam","atlantic starr","​atlas","atlas genius","atmosphere","ato","șatra b.e.n.z","atreyu","atsuover","atta boy","attack attack!","at the drive-in","attic abasement","attila","the aubreys","audio88 & yassin","audrey assad","audrey hepburn","audrey mika","audrey nuna","audrey nuna & niki","august","august alsina","august burns red","augustine","аукцыон (auktyon)","auli'i cravalho","au/ra","aurelio voltaire","auri","aurora","austin george","austin mahone","autem, bushido zho & 163onmyneck","autoheart","autumn!","av","the avalanches","avant","avantasia","avatar","avatar: the last airbender","avega","avelino","aventura & bad bunny","avery lynch","the avett brothers","aviators","avi(pl) x louis villain","aviva","a-wall","​awfultune","awkwafina","awolnation","axcx","axos","axwell λ ingrosso","aya nakamura","ayax","ayax y prok","ayo & teo","​ayokay","ayra starr","ayreon","ayushmann khurrana","ayzha nyree","az","azaan sami khan","azad","azahriah","azchike","azealia banks","azer bülbül","azet","azet & albi","azet & jugglerz","azizi gibson","azteca","azzi memo"]

def get_lyrics(arr, k):  # Write lyrics of k songs by each artist in 
    translate_client = translate.Client()
    c = 0  # Counter
    for name in arr:
        try:
            # To fetch by popularity too and then merge the lists
            # songsByTitle = (genius.search_artist(name, max_songs=k, sort='title')).songs
            # songsAll = list(songs)
            # for i in songsByTitle:
            #     if not any(x.id == i.id for x in songs):
            #         songsAll.append(i)
            # s = [song.lyrics for song in songsAll]
            test_songs = (genius.search_artist(name, max_songs=1, sort='popularity')).songs
            test_song_lyric = test_songs[0].lyrics.split("\n")[0]
            result = translate_client.detect_language(test_song_lyric)
            print(test_song_lyric)
            print(result)
            if(result["language"] == "en"):
                songs = (genius.search_artist(name, max_songs=k, sort='popularity')).songs
                s = [song.lyrics for song in songs]
                file.write(f"\n \n   <| Song By {name} |>   \n \n".join(s))  # Deliminator
                c += 1
                print(f"Songs grabbed:{len(s)}")
        except Exception as inst:  #  Broad catch which will give us the name of artist and song that threw the exception
            print(type(inst))
            print(inst.args)
            print(inst)
            print(f"some exception at {name}: {c}")


# get_lyrics(artists, 75)
get_lyrics(artists3, 100)

#const artistsWithA = Array.from(document.querySelectorAll("#main > ul.artists_index_list > li > a"))
#JSON.stringify(artistsWithA.map(artist => artist.innerText))